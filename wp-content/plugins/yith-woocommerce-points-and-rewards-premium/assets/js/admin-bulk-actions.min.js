jQuery((function(a){const e=()=>{a(".yith_woocommerce_points_and_rewards_panel_page").find("[data-deps]").each((function(){var e=a(this),t=(e.find("input"),e.attr("data-deps").split(",")),i=e.attr("data-deps_value").split(","),o=[];a.each(t,(function(t,n){a('[id="'+n+'"]').find("input").first().click(),a('[id="'+n+'"]').on("change",(function(){var n=this.value,r="";("radio"!=this.type||a(this).is(":checked"))&&("checkbox"==this.type&&(n=a(this).is(":checked")?"yes":"no"),r=(r=i[t]+"").split("|"),o[t]=-1!==a.inArray(n,r),-1===a.inArray(!1,o)?e.show():e.hide())})).change()}))})),a("#ywpar_bulk_action_points").on("click",(function(t){t.preventDefault(),window.onbeforeunload="";var i=a(this).closest("form"),o=i.serializeArray(),n=a(".ywpar-bulk-actions-modal-content .loading");"from"!==o.ywpar_apply_points_previous_order_to||""!==o.ywpar_apply_points_previous_order?(n.show(),a(".ywpar-bulk-trigger").append('<div class="ywpar-bulk-progress"><div>0%</div></div>'),e(1,o,i)):a("#ywpar_apply_points_previous_order").addClass("ywpar-error")}));var e=function(t,i,o){var n=a(".ywpar-bulk-trigger"),r=a(".ywpar-bulk-actions-modal-content .loading");i.push({name:"action",value:"ywpar_bulk_action"},{name:"step",value:t}),a.ajax({type:"POST",url:yith_ywpar_bulk_actions.ajax_url,data:i,dataType:"json",success:function(t){if(t.success)if("done"===t.data.step){n.find(".ywpar-bulk-progress").hide("slow").remove();const e=a("#yith_woocommerce_points_and_rewards_bulk-container"),i=e.find(".responseWrapper");i.find(".message").text(t.data.message),e.find(".optionContainer").hide(),r.hide(),a(".ywpar-modal-bulk-actions-wrapper").removeClass("loading"),i.show(),setTimeout((function(){a("span.ywpar-bulk-response").remove(),window.location.reload()}),2e3)}else n.find(".ywpar-bulk-progress div").html(t.data.percentage+"%"),n.find(".ywpar-bulk-progress div").animate({width:t.data.percentage+"%"},50,(function(){})),e(parseInt(t.data.step),i,o);else a(document).find(".ywpar-bulk-trigger").append('<span class="ywpar-bulk-response"><i class="yith-icon yith-icon-check"></i>'+t.data.error+"</span>"),setTimeout((function(){window.location.reload()}),2e3)}})};a("#ywpar_apply_points_previous_order_start_date").datepicker(),a(document.body).trigger("yith-framework-enhanced-select-init"),a(document.body).trigger("wc-enhanced-select-init")};a(document).on("click",".bulk-actions-custom-button",(function(t){t.preventDefault(),yith.ui.modal({content:a('script[data-template="ywpar-modal-bulk-actions"]').text().split(/\$\{(.+?)\}/g),title:yith_ywpar_bulk_actions.modal_title,width:900,allowWpMenu:!1,closeWhenClickingOnOverlay:!0,allowClosingWithEsc:!0,classes:{title:"ywpar-bulk-actions-modal-title",content:"ywpar-bulk-actions-modal-content",footer:"ywpar-bulk-actions-modal-footer",wrap:"ywpar-modal-bulk-actions-wrapper"},onCreate:e})}))}));